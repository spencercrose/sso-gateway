apiVersion: v1
kind: Secret
metadata:
  name: sso-gateway-global-conf
  labels:
    {{- include "ssoGateway.labels" . | nindent 4 }}
    app.kubernetes.io/component: global-conf
type: Opaque
stringData:
  # SSO Session Secret - autogenerated
  ssoSessionSecret: |-
    {{ randAlphaNum 32 }} 

  # SSO Redis credentials - conditionally generate or use provided value
  redisPassword: |-
    {{- if and .Values.redis.password.generate (not .Values.redis.password.value)}}
    {{ randAlphaNum (.Values.redis.password.length | int)  }}
    {{- else}}
    {{ .Values.redis.password.value }}
    {{- end }}
